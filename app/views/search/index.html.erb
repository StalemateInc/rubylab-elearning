  <%= form_for :search, url: search_path, method: :get do |form| %>
    <fieldset>
      <legend>Search</legend>

      <div class='form-group'>
        <%= form.text_field :query,
          class: 'form-control', id: 'main-search', autocomplete: "false" %>
      </div>
      
      <div class='form-group'>
        <%= form.label :difficulty %><br />
        <%= select_tag 'difficulty', options_for_select(@difficulties),
         multiple: true, class: 'form-control', id: 'difficulty-search' %>
      </div>

      <div class='form-group'>
        <%= form.label :owner %><br />
        <%= select_tag 'owner', options_for_select(@owners),
        multiple: true, class: 'form-control', id: 'owner-search' %>
      </div>

      <div class='form-group'> 
        <%= form.submit 'Try',  class: 'btn btn-success form-control' %>
      </div>

    </fieldset>
  <% end %>

<% unless @results.nil? %>
  <% if @results.empty? %>
    <h4>No results</h4>
  <% else %>
    <h4>Results</h4>
      <div class='container-fluid'>
        <% @results.each do |result| %>
        <div class='row'>
          <div class='col-lg-4 col-md-4 col-sm-12 strong-high'>
            <h5 class='text-center'>Name of course: <%= link_to "#{result.name}",
              course_path(result.id.to_i) %></h5><br />
            <div class='panel-stub'>
              Difficulty: <%= result.difficulty %><br />
              Owner of course: <%= result.owner_for_elastic %><br />
              Course duration: <%= result.duration %><br />
              Status: <%= result.status %><br />
              <% if result.description %>
                <h6 class='text-center'>Description</h6>
                <p><%= result.description.truncate(150) %></p>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
<% end %>

